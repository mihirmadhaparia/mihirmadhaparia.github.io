<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>

    <aside class="sidebar">
        <img src="{{ '/assets/images/HeadshotPortrait.jpg' | relative_url }}" alt="Mihir Madhaparia" class="profile-pic">
        <h1 class="name">Mihir Madhaparia</h1>
        <div class="contact-info">
            <p><strong>Email:</strong> <a href="mailto:mihirmadhaparia@gmail.com">mihirmadhaparia@gmail.com</a></p>
            <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/mihirmadhaparia" target="_blank">linkedin.com/in/mihirmadhaparia</a></p>
            <p><strong>GitHub:</strong> <a href="https://github.com/mihir-madhaparia" target="_blank">github.com/mihir-madhaparia</a></p>
        </div>
    </aside>
    
    <nav>
        <a href="#about">About</a>
        <a href="#education">Education</a>
        <a href="#skills">Skills</a>
        <a href="#work">Work Experience</a>
        <a href="#projects">Projects</a>
        <a href="#awards">Awards</a>
    </nav>

    <div class="content">
        {{ content }}
    </div>

    <script>
        window.addEventListener("scroll", function() {
            let nav = document.querySelector("nav");
            if (window.scrollY === 0) {
                nav.classList.remove("shrink");
            } else {
                nav.classList.add("shrink");
            }
        });
    </script>

    <aside class="gallery-panel">
        <div class="gallery-container">
            <div class="gallery-track">
                <div class="gallery-item" data-desc="Demonstration of bioprinting scaffolds optimized for neural regeneration.">
                    <img src="{{ '/assets/images/scaffold.jpg' | relative_url }}" alt="3D Printed Scaffold">
                </div>
                <div class="gallery-item" data-desc="Project travel video from Malawi 2023 assessment trip.">
                    <iframe src="https://drive.google.com/file/d/1RnbMXfTiYPPIkiVAcxxdpy5RfMIcrQ28/preview" allow="autoplay"></iframe>
                </div>
            </div>
        </div>
    </aside>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const galleryTrack = document.querySelector(".gallery-track");
            const galleryItems = document.querySelectorAll(".gallery-item");

            let autoScroll;
            let scrollSpeed = 1;

            function startScrolling() {
                if (galleryItems.length > 2) {
                    autoScroll = setInterval(() => {
                        galleryTrack.scrollBy({ top: scrollSpeed, behavior: "smooth" });

                        if (galleryTrack.scrollTop + galleryTrack.clientHeight >= galleryTrack.scrollHeight) {
                            galleryTrack.scrollTo({ top: 0, behavior: "smooth" });
                        }
                    }, 50);
                }
            }

            startScrolling();
        });
    </script>
    
</body>
</html>
